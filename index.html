<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>AR Wedding Card</title>
    <!-- A-Frame & AR.js -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>

    <style>
      body { margin:0; overflow:hidden; }
      #loading {
        position: absolute;
        width: 100%;
        height: 100%;
        display:flex;
        justify-content:center;
        align-items:center;
        background-color:#000;
        color:#fff;
        font-size:18px;
        flex-direction: column;
        z-index: 10;
      }
      #loading span { margin-top: 10px; }
    </style>
  </head>

  <body>
    <!-- Loading Screen -->
    <div id="loading">
      <div>Initializing AR...</div>
      <span>Point your camera at the card</span>
    </div>

    <!-- AR Scene -->
    <a-scene
      vr-mode-ui="enabled: false"
      embedded
      renderer="logarithmicDepthBuffer: true;"
      arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;">
      
      <!-- NFT Marker -->
      <a-nft type="nft" url="Sample"
             smooth="true"
             smoothCount="20"
             smoothTolerance="0.01"
             smoothThreshold="5"
             distanceMin="0.1"
             distanceMax="10">
        <a-video src="Sample.mp4"
                 autoplay
                 loop
                 width="2"
                 height="1"
                 position="0 0 0">
        </a-video>
      </a-nft>

      <a-entity camera></a-entity>
    </a-scene>

    <script>
      // Hide loading once AR scene is ready
      document.querySelector('a-scene').addEventListener('renderstart', () => {
        document.getElementById('loading').style.display = 'none';
      });
    </script>
  </body>
</html>
